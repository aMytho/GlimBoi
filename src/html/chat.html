<div class="m-4 mt-2 p-4 pt-2 whiteText grid grid-cols-1 md:grid-cols-2 gap-2">
    <div class="glimPanel rounded-xl mx-2 p-2 px-4 row-span-3 min-h-screen" id="chatBoxDM"
        style="background: rgba(27,46,75,1)!important;">
        <div class="message_section w-full flex flex-col border border-solid border-slate-600 h-full max-h-screen">
            <!--top of the chat-->
            <div class="new_message_head glimPanel whiteText">
                <div class="pull-left">

                </div>
                <div class="pull-right">

                </div>
            </div>
            <!--chat-->
            <div class="flex flex-col my-2 overflow-auto h-full" id="chatContainer">
                <div contentLocation="1" class="p-2 flex flex-row gap-3 items-center admin_chat rounded-md"
                    oncontextmenu="loadChatContextMenu(event)">
                    <img src="../resources/img/Mytho.png" alt="User Avatar" class="h-10 w-10 rounded-2xl"
                        style="border-radius: 50%;">
                    <p name='mytho' class="py-4 px-2">Mytho: Welcome to Glimesh Chat! When connected your messages will
                        start to appear here. Happy streaming!</p>
                </div>
                <ul class="list-unstyled chatList hidden" id="chatList">
                    <li class="left clearfix admin_chat" name='mytho'>
                        <div contentLocation="1" class="p-2flow-root admin_chat"
                            oncontextmenu="loadChatContextMenu(event)">
                            <span class="float-left" name='mytho'>
                                <img src="../resources/img/Mytho.png" alt="User Avatar" class="h-8 w-8 rounded-2xl">
                            </span>
                            <p name='mytho' class="float-right py-4 px-2"><span id="chatUser" name='mytho'>Mytho:
                                </span> Welcome to Glimesh Chat! When connected your messages will start to appear here.
                                Happy streaming!</p>
                            <!--<div class="whiteText pull-left">09:40PM</div> -->
                        </div>
                    </li>

                </ul>
            </div>
            <!--chat_area-->
            <div class="mt-auto mx-4">
                <textarea class="w-full" id="messageArea" style="background-color: #2c4066;"
                    placeholder="type a message"></textarea>
                <div class="clearfix"></div>
                <div class="flex flex-row items-center">
                    <a href="#" class="btn-success" id="sendMessage" onclick="sendMessageInBox()">Send</a>
                    <p>You can also press enter to send a message!</p>
                </div>
            </div>
        </div>
    </div>
    <div class="glimPanel mx-2 rounded-xl p-2 px-4" id="chatChannelsDM">
        <div class="px-0 pl-1 flex flex-col h-full">
            <h3 class="whiteText font-bold text-2xl text-clip text-center">Recent Channel Connections</h3>
            <div id="chatConnections">
                <div class="pinned"></div>
                <div class="scroller">Loading...</div>
            </div>

            <div class="flow-root mt-auto">
                <button type="button" class="btn-primary float-left" data-tooltip-target="chatJoinTooltip"
                    data-tooltip-placement="top">
                    <div id="chatJoinTooltip" role="tooltip"
                        class="inline-block absolute invisible z-10 py-2 px-3 text-sm font-medium text-white bg-gray-900shadow-sm opacity-0 transition-opacity duration-300 tooltip">
                        <div class="text-sm">
                            <p>When you connect to a channel it will appear here. Channels are sorted by time last
                                connected, in descending order.</p>
                        </div>
                    </div>
                    <i class="fas fa-question-circle"></i>
                </button>
                <button class="btn-success float-right" data-modal-toggle="newChatModal">Add new </button>
            </div>
        </div>
    </div>


    <div class="glimPanel rounded-xl mx-2 p-2 px-4">
        <h3 class="whiteText font-bold text-2xl text-clip text-center">Stream Info</h3>
        <h4 class="whiteText text-center py-3 my-3 border border-white border-x-0">
            <p>Stats will be updated every 15 minutes.</p>
            <p id="fasUsers">Viewers: 0</p>
            <p id="fasHeart">Followers: 0</p>
            <p id="fasTitle" class="text-lg font-semibold"></p>
        </h4>
    </div>

    <div class="glimPanel rounded-xl mx-2 p-2 px-4" id="chatControls">
        <h3 class="whiteText font-bold text-2xl text-clip text-center">Chat Settings</h3>
        <h4 id="channelConnectedName" class="text-center py-3 my-3 border border-white border-x-0">
            Not Connected
        </h4>
        <div class="mt-4 flex flex-row gap-x-2 flex-wrap">
            <div class="whiteText">
                <h3 class="text-warning text-xl font-bold">Health Reminder</h3>
                <p>Get reminders to stretch, drink water, and take a break.</p>
                <form>
                    <div class="form-group mt-2">
                        <label for="sel1">Reminder:</label>
                        <select class="form-control rounded-md" id="healthReminder"
                            style="background-color: #1b2e4b;color: aquamarine;border-color: aqua;">
                            <option value="0">Disabled (default)</option>
                            <option value="30">30 minutes</option>
                            <option value="60">60 minutes</option>
                            <option value="120">2 hours</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="whiteText">
                <h3 class="text-warning text-xl font-bold">Log Messages</h3>
                <p>Logs chat messages to a text file.</p>
                <div class="flex">
                    <div>
                        <label class="switch">
                            <input type="checkbox" id="loggingEnabled">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="ml-2 ">
                        <p class="text-left">Disabled / Enabled</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-center mt-4 mb-2">
            <a class="btn-info"
                onclick="viewOrChangeChatSettings('change');successMessage('Settings Saved', 'Chat settings have been saved.')">Save</a>
        </div>
    </div>
</div>


<!-- Modal: add new chat? -->
<div class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 w-full md:inset-0 h-modal md:h-full"
    id="newChatModal" tabindex="-1" aria-hidden="true" style="overflow-wrap: break-word;">
    <div class="relative max-w-lg h-full md:h-auto whiteText">
        <div class="relative glimPanel rounded-lg shadow p-4">
            <!--Header-->
            <div class="text-center w-full border-solid border-b-2 border-blue-300 pb-2">
                <h4 class="text-center whiteText font-bold text-2xl w-full">Add New Chat</h4>
            </div>
            <!--Body-->
            <div class="prose prose-base whiteText text-center">
                <input type="text" class="border-0 mt-4" placeholder="Channel" id="newChatName"
                    style="background-color: #1b2e4b;color: aquamarine;">
                <p>Enter the name of the channel to join. This is the chat you want the bot to be in, <b>not the bot
                        name!</b></p>
            </div>
            <!--Footer-->
            <div
                class="flex flex-row-reverse relative bottom-0 mr-8 mt-8 w-full border-t-2 border-blue-300 border-solid py-2">
                <button type="button" class="btn-primary" data-modal-toggle="newChatModal"
                    id="triggerNewChatAdd">Add</button>
                <button type="button" class="btn-warning" data-modal-toggle="newChatModal">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- Modal: add new chat -->

<!-- Modal: Discord Webhook -->
<div class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 w-full md:inset-0 h-modal md:h-full"
    id="discordWebhook" tabindex="-1" aria-hidden="true" style="overflow-wrap: break-word;">
    <div class="relative max-w-lg h-full md:h-auto whiteText">
        <div class="relative glimPanel rounded-lg shadow p-4" id="discordWebhookModal">
            <!--Header-->
            <div class="text-center w-full border-solid border-b-2 border-blue-300 pb-2">
                <h4 class="text-center whiteText font-bold text-2xl w-full">Discord Live Notification</h4>
            </div>
            <!--Body-->
            <div class="prose prose-base whiteText text-center">
                <input type="text" class="mt-4" placeholder="The message to post in Discord" id="discordWebhookMessage"
                    style="background-color: #1b2e4b;color: aquamarine;border: 0px;">
                <p class="mt-2">Click send to send the above message. If you'd like, you can change the message sent.
                    This will not change the default message</p>
            </div>
            <!--Footer-->
            <div
                class="flex flex-row-reverse relative bottom-0 mr-8 mt-8 w-full border-t-2 border-blue-300 border-solid py-2">
                <button type="button" class="btn-warning" id="closeDiscordModal">Close</button>
                <button type="button" class="btn-primary" id="closeDiscordModal2"
                    onclick="ApiHandle.Webhooks.DiscordWebhook.sendDiscordMessage(document.getElementById('discordWebhookMessage').value)">Send</button>
            </div>
        </div>
    </div>
</div>
<!-- Modal: add new chat -->

<!-- Modal: Guilded Webhook-->
<div class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 w-full md:inset-0 h-modal md:h-full"
    id="guildedWebhook" tabindex="-1" aria-hidden="true" style="overflow-wrap: break-word;">
    <div class="relative max-w-md h-full md:h-auto whiteText">
        <div class="relative glimPanel rounded-lg shadow p-4" id="guildedWebhookModal">
            <!--Header-->
            <div class="text-center w-full border-solid border-b-2 border-blue-300 pb-2">
                <h4 class="text-center whiteText font-bold text-2xl w-full">Guilded Live Notifications</h4>
            </div>
            <!--Body-->
            <div class="prose prose-base whiteText text-center">
                <input type="text" class="mt-4" placeholder="The message to post in Guilded" id="guildedWebhookMessage"
                    style="background-color: #1b2e4b;color: aquamarine;border: 0px;">
                <p class="mt-2">Click send to send the above message. If you'd like, you can change the message sent.
                    This will not change the default message</p>
            </div>
            <!--Footer-->
            <div
                class="flex flex-row-reverse relative bottom-0 mr-8 mt-8 w-full border-t-2 border-blue-300 border-solid py-2">
                <button type="button" class="btn-warning" id="closeGuildedModal">Close</button>
                <button type="button" class="btn-primary" id="closeGuildedModal2"
                    onclick="ApiHandle.Webhooks.GuildedWebhook.sendGuildedMessage(document.getElementById('guildedWebhookMessage').value);">Send</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal: Twitter Webhook-->
<div class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 w-full md:inset-0 h-modal md:h-full"
    id="twitterWebhook" tabindex="-1" aria-hidden="true" style="overflow-wrap: break-word;">
    <div class="relative max-w-md h-full md:h-auto whiteText">
        <div class="relative glimPanel rounded-lg shadow p-4" id="twitterWebhookModal">
            <!--Header-->
            <div class="text-center w-full border-solid border-b-2 border-blue-300 pb-2">
                <h4 class="text-center whiteText font-bold text-2xl w-full">Twitter Live Notifications</h4>
            </div>
            <!--Body-->
            <div class="prose prose-base whiteText text-center">
                <input type="text" class="mt-4" placeholder="The message to post to Twitter" id="twitterWebhookMessage">
                <p class="mt-2">Click send to send the above message. If you'd like, you can change the message sent.
                    This will not change the default message</p>
            </div>
            <!--Footer-->
            <div
                class="flex flex-row-reverse relative bottom-0 mr-8 mt-8 w-full border-t-2 border-blue-300 border-solid py-2">
                <button type="button" class="btn-warning" id="closeTwitterModal">Close</button>
                <button type="button" class="btn-primary" id="closeTwitterModal2"
                    onclick="ApiHandle.Webhooks.TwitterWebhook.sendTweet(document.getElementById('twitterWebhookMessage').value);">Send</button>
            </div>
        </div>
    </div>
</div>


<!-- Modal: Matrix Webhook-->
<div class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 w-full md:inset-0 h-modal md:h-full"
    id="matrixWebhook" tabindex="-1" aria-hidden="true" style="overflow-wrap: break-word;">
    <div class="relative max-w-md h-full md:h-auto whiteText">
        <div class="relative glimPanel rounded-lg shadow p-4" id="matrixWebhookModal">
            <!--Header-->
            <div class="text-center w-full border-solid border-b-2 border-blue-300 pb-2">
                <h4 class="text-center whiteText font-bold text-2xl w-full">Matrix Live Notification</h4>
            </div>
            <!--Body-->
            <div class="prose prose-base whiteText text-center">
                <input type="text" class="mt-4" placeholder="The message to send to matrix" id="matrixWebhookMessage">
                <p class="mt-2">Click send to send the above message. If you'd like, you can change the message sent.
                    This will not change the default message</p>
            </div>
            <!--Footer-->
            <div
                class="flex flex-row-reverse relative bottom-0 mr-8 mt-8 w-full border-t-2 border-blue-300 border-solid py-2">
                <button type="button" class="btn-warning" id="closeMatrixModal">Close</button>
                <button type="button" class="btn-primary" id="closeMatrixModal2"
                    onclick="ApiHandle.Webhooks.MatrixWebhook.sendMessage(document.getElementById('matrixWebhookMessage').value);">Send</button>
            </div>
        </div>
    </div>
</div>

</div>

<div class="dropdown-menu dropdown-menu-sm hidden" id="context-menu" style="background-color: #1c224e;">
    <a class="dropdown-item" style="color: aquamarine;cursor: pointer;" onclick="contextMenu('Add User')">Add User</a>
    <a class="dropdown-item" style="color: aquamarine;cursor: pointer;" onclick="contextMenu('Add Quote')">Quote</a>
    <a class="dropdown-item" style="color: aquamarine;cursor: pointer;" onclick="contextMenu('Follow User')">Follow
        User</a>
    <a class="dropdown-item" style="color: aquamarine;cursor: pointer;" onclick="contextMenu('Unfollow User')">Unfollow
        User</a>
    <a class="dropdown-item" style="color: aquamarine;cursor: pointer;" onclick="contextMenu('Delete Message')">Delete
        Message</a>
    <a class="dropdown-item" style="color: aquamarine;cursor: pointer;"
        onclick="contextMenu('Short Timeout User', 'short')">Short Timeout</a>
    <a class="dropdown-item" style="color: aquamarine;cursor: pointer;"
        onclick="contextMenu('Long Timeout User', 'long')">Long Timeout</a>
    <a class="dropdown-item" style="color: red;cursor: pointer;" onclick="contextMenu('Ban User')">Ban User</a>
    <a class="dropdown-item" style="color: red;cursor: pointer;" onclick="contextMenu('UnBan User')">Unban User</a>
</div>

<style>
    li.deleted {
        opacity: 50%;
    }

    li.timeout {
        opacity: 50%;
    }

    li.ban {
        opacity: 50%;
    }
</style>